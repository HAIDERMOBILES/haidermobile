<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Haider Mobiles | Swipe Collections</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
:root { --gold: #d4af37; --bg: #050505; --card-bg: #111; --border: rgba(212, 175, 55, 0.2); }
body { margin: 0; background: var(--bg); color: #fff; font-family: 'Poppins', sans-serif; overflow-x: hidden; }

header { padding: 15px 6%; background: #000; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
.store-name { font-weight: 800; color: var(--gold); font-size: 1.2rem; }

/* Category Section Styling */
.category-section { padding: 20px 0 10px 20px; }
.category-title { font-size: 18px; font-weight: 800; color: var(--gold); margin-bottom: 15px; display: flex; align-items: center; gap: 10px; text-transform: uppercase; }
.category-title::after { content: ''; flex: 1; height: 1px; background: var(--border); margin-right: 20px; }

/* Swipe Wrapper */
.swipe-container { 
    display: flex; 
    overflow-x: auto; 
    gap: 15px; 
    padding-bottom: 15px; 
    scrollbar-width: none; /* Firefox */
}
.swipe-container::-webkit-scrollbar { display: none; /* Chrome/Safari */ }

/* Product Card */
.card { 
    min-width: 200px; 
    max-width: 200px; 
    background: var(--card-bg); 
    border-radius: 20px; 
    padding: 15px; 
    border: 1px solid #222; 
    text-align: center;
}
.card img { width: 100%; height: 150px; object-fit: contain; margin-bottom: 10px; }
.card h3 { font-size: 12px; height: 35px; overflow: hidden; margin: 5px 0; font-weight: 400; }
.price { color: var(--gold); font-weight: 800; font-size: 16px; display: block; margin-bottom: 10px; }

.btn-view { 
    display: block; 
    background: var(--gold); 
    color: #000; 
    text-decoration: none; 
    font-size: 11px; 
    font-weight: 800; 
    padding: 8px; 
    border-radius: 8px; 
}

/* Glassy Dropdown Style (Top Nav) */
.glass-nav { display: flex; gap: 10px; padding: 10px 20px; background: rgba(255,255,255,0.02); backdrop-filter: blur(10px); overflow-x: auto; }
.nav-btn { padding: 6px 15px; border-radius: 20px; border: 1px solid var(--border); font-size: 12px; white-space: nowrap; cursor: pointer; }
</style>
</head>
<body>

<header>
  <span class="store-name">HAIDER MOBILES</span>
  <input type="text" id="search" onkeyup="searchGlobal()" placeholder="Search..." style="background:#111; border:1px solid #333; color:#fff; padding:8px 12px; border-radius:20px; width:120px;">
</header>

<div id="sections-wrapper"></div>



<script>
let allProducts = [];

async function loadData() {
    const res = await fetch('data.json');
    allProducts = await res.json();
    
    // Categories Define Karein
    const categories = [
        { name: "Handfree & Earbuds", keywords: ["handfree", "earbud", "rbt", "rh"] },
        { name: "Fast Chargers", keywords: ["charger", "adapter", "g97", "g110", "g96"] },
        { name: "Charging Cables", keywords: ["cable", "rc", "gc"] },
        { name: "Premium Speakers", keywords: ["speaker", "soundbar", "rs"] },
        { name: "Covers & Panels", keywords: ["cover", "panel", "back"] }
    ];

    const wrapper = document.getElementById('sections-wrapper');
    wrapper.innerHTML = ""; // Clear existing

    categories.forEach(cat => {
        // Filter products based on keywords in name
        const filtered = allProducts.filter(p => 
            cat.keywords.some(key => p.name.toLowerCase().includes(key))
        );

        if(filtered.length > 0) {
            let sectionHTML = `
                <div class="category-section">
                    <div class="category-title">${cat.name}</div>
                    <div class="swipe-container">
                        ${filtered.map(p => `
                            <div class="card">
                                <img src="${p.img}">
                                <h3>${p.name}</h3>
                                <span class="price">${p.price}</span>
                                <a href="product.html?id=${p.id}" class="btn-view">VIEW DETAILS</a>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            wrapper.innerHTML += sectionHTML;
        }
    });
}

function searchGlobal() {
    let q = document.getElementById('search').value.toLowerCase();
    if(q === "") { loadData(); return; }
    
    const filtered = allProducts.filter(p => p.name.toLowerCase().includes(q));
    const wrapper = document.getElementById('sections-wrapper');
    wrapper.innerHTML = `
        <div class="category-section">
            <div class="category-title">Search Results</div>
            <div class="product-grid" style="display:grid; grid-template-columns:1fr 1fr; gap:10px; padding-right:20px;">
                ${filtered.map(p => `
                    <div class="card" style="min-width:unset; max-width:unset;">
                        <img src="${p.img}">
                        <h3>${p.name}</h3>
                        <span class="price">${p.price}</span>
                        <a href="product.html?id=${p.id}" class="btn-view">VIEW</a>
                    </div>
                `).join('')}
            </div>
        </div>
    `;
}

window.onload = loadData;
</script>
</body>
</html>
